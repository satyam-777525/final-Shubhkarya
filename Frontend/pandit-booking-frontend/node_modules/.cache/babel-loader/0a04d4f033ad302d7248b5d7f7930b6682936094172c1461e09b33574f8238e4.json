{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sv106\\\\OneDrive\\\\Desktop\\\\Shubhkarya\\\\Frontend\\\\pandit-booking-frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Home, CalendarDays, Book, LogOut, ListChecks, MessageCircle, Search, Users, ChevronLeft, ChevronRight, Sparkle, Settings, Star } from \"lucide-react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport \"./Dashboard.css\";\nimport { createReview, getBookings, getVerifiedPandits, createBooking, getServices, getPoojas // Import getPoojas here\n} from \"../api/api\";\nimport ChatWindow from \"./ChatWindow\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Feature cards data and sidebarLinks omitted for brevity (use previous definitions)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StarRating({\n  rating,\n  onChange\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"star-rating\",\n    \"aria-label\": \"Rating\",\n    children: [1, 2, 3, 4, 5].map(i => /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"button\",\n      tabIndex: \"0\",\n      className: `star ${i <= rating ? \"active\" : \"\"}`,\n      \"aria-label\": `Rate ${i} star${i > 1 ? \"s\" : \"\"}`,\n      onClick: () => onChange(i),\n      onKeyDown: e => (e.key === \"Enter\" || e.key === \" \") && onChange(i),\n      children: \"\\u2605\"\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_c = StarRating;\nexport default function Dashboard() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [bookings, setBookings] = useState([]);\n  const [pandits, setPandits] = useState([]);\n  const [poojas, setPoojas] = useState([]); // State for pujas\n  const [collapsed, setCollapsed] = useState(false);\n  const [carouselIndex, setCarouselIndex] = useState(0);\n  const [expandedPandits, setExpandedPandits] = useState({});\n  const [searchPandits, setSearchPandits] = useState(\"\");\n  const [searchBookings, setSearchBookings] = useState(\"\");\n  const [review, setReview] = useState({\n    name: \"\",\n    rating: 0,\n    comment: \"\"\n  });\n  const [reviewMessage, setReviewMessage] = useState(\"\");\n  const [reviewLoading, setReviewLoading] = useState(false);\n  const [showChatbot, setShowChatbot] = useState(false);\n  const [chatPanditId, setChatPanditId] = useState(null);\n  const [chatPanditName, setChatPanditName] = useState(\"\");\n  const [currentDateTime, setCurrentDateTime] = useState(\"\");\n\n  // Booking state\n  const [selectedPanditId, setSelectedPanditId] = useState(\"\");\n  const [selectedServiceId, setSelectedServiceId] = useState(\"\");\n  const [bookingDetails, setBookingDetails] = useState({\n    puja_date: \"\",\n    puja_time: \"\",\n    location: \"\"\n  });\n  const [bookingStatus, setBookingStatus] = useState(null);\n  const [bookingLoading, setBookingLoading] = useState(false);\n  const navigate = useNavigate();\n  const panditListRef = useRef(null);\n  const bookingListRef = useRef(null);\n\n  // Fetch bookings for the user\n  const fetchBookings = async userId => {\n    try {\n      const res = await getBookings({\n        userid: userId\n      });\n      setBookings(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch bookings:\", error);\n    }\n  };\n\n  // Fetch verified pandits\n  const fetchPandits = async () => {\n    try {\n      const res = await getVerifiedPandits();\n      setPandits(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch pandits:\", error);\n    }\n  };\n\n  // Fetch all pujas\n  const fetchPoojas = async () => {\n    try {\n      const res = await getPoojas();\n      setPoojas(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch pujas:\", error);\n    }\n  };\n\n  // Initialization on mount\n  useEffect(() => {\n    AOS.init({\n      duration: 750,\n      once: true\n    });\n    const token = localStorage.getItem(\"token\");\n    const userData = localStorage.getItem(\"user\");\n    if (!token || !userData) {\n      navigate('/login');\n      return;\n    }\n    try {\n      const parsedUser = JSON.parse(userData);\n      setUser(parsedUser);\n      setReview(r => ({\n        ...r,\n        name: parsedUser.name\n      }));\n      fetchBookings(parsedUser._id);\n      fetchPandits();\n      fetchPoojas(); // Fetch pujas alongside pandits and bookings\n    } catch (e) {\n      console.error(\"Failed to parse user data:\", e);\n      localStorage.clear();\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  // Carousel auto-slide\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCarouselIndex(i => (i + 1) % sliderImages.length);\n    }, 4500);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Current date-time every second\n  useEffect(() => {\n    const itv = setInterval(() => {\n      setCurrentDateTime(new Date().toLocaleString(\"en-IN\", {\n        dateStyle: \"full\",\n        timeStyle: \"medium\",\n        timeZone: \"Asia/Kolkata\"\n      }));\n    }, 1000);\n    return () => clearInterval(itv);\n  }, []);\n\n  // Other handlers remain unchanged (toggleExpand, handleNavClick, scrollList)\n\n  // Booking form handlers\n  function handlePanditSelect(e) {\n    const panditId = e.target.value;\n    setSelectedPanditId(panditId);\n    setSelectedServiceId(\"\");\n    setBookingStatus(null);\n  }\n  function handleServiceSelect(e) {\n    setSelectedServiceId(e.target.value);\n    setBookingStatus(null);\n  }\n  function handleBookingDetailsChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setBookingDetails(b => ({\n      ...b,\n      [name]: value\n    }));\n    setBookingStatus(null);\n  }\n  async function handleBookingSubmit(e) {\n    e.preventDefault();\n    setBookingStatus(null);\n    if (!selectedPanditId) {\n      setBookingStatus({\n        error: \"Please select a Pandit.\"\n      });\n      return;\n    }\n    if (!selectedServiceId) {\n      setBookingStatus({\n        error: \"Please select the Puja/service.\"\n      });\n      return;\n    }\n    if (!bookingDetails.puja_date || !bookingDetails.puja_time || !bookingDetails.location.trim()) {\n      setBookingStatus({\n        error: \"Please fill all booking details.\"\n      });\n      return;\n    }\n    if (!(user !== null && user !== void 0 && user._id)) {\n      setBookingStatus({\n        error: \"User not found. Please login again.\"\n      });\n      return;\n    }\n    setBookingLoading(true);\n    try {\n      const payload = {\n        userId: user._id,\n        panditId: selectedPanditId,\n        serviceId: selectedServiceId,\n        puja_date: bookingDetails.puja_date,\n        puja_time: bookingDetails.puja_time,\n        location: bookingDetails.location.trim(),\n        status: \"pending\"\n      };\n      await createBooking(payload);\n      setBookingStatus({\n        success: \"Puja booked successfully! Awaiting Pandit confirmation.\"\n      });\n      fetchBookings(user._id);\n      setSelectedPanditId(\"\");\n      setSelectedServiceId(\"\");\n      setBookingDetails({\n        puja_date: \"\",\n        puja_time: \"\",\n        location: \"\"\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Booking error:\", error);\n      setBookingStatus({\n        error: (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to book puja. Please try again later.\"\n      });\n    } finally {\n      setBookingLoading(false);\n      setTimeout(() => setBookingStatus(null), 3500);\n    }\n  }\n  const filteredPandits = pandits.filter(p => {\n    var _p$name;\n    return (((_p$name = p.name) === null || _p$name === void 0 ? void 0 : _p$name.toLowerCase()) || \"\").includes(searchPandits.toLowerCase()) || (p.city || \"\").toLowerCase().includes(searchPandits.toLowerCase()) || (p.specialties || []).some(s => s.toLowerCase().includes(searchPandits.toLowerCase()));\n  });\n  const filteredBookings = bookings.filter(b => {\n    var _b$panditid, _b$serviceid;\n    const q = searchBookings.toLowerCase();\n    return (((_b$panditid = b.panditid) === null || _b$panditid === void 0 ? void 0 : _b$panditid.name) || \"\").toLowerCase().includes(q) || (((_b$serviceid = b.serviceid) === null || _b$serviceid === void 0 ? void 0 : _b$serviceid.name) || \"\").toLowerCase().includes(q) || new Date(b.puja_date).toLocaleDateString().includes(q) || (b.location || \"\").toLowerCase().includes(q);\n  });\n  function getStatusClass(status) {\n    return {\n      accepted: \"status accepted\",\n      confirmed: \"status accepted\",\n      rejected: \"status rejected\",\n      pending: \"status pending\",\n      completed: \"status completed\"\n    }[(status || \"\").toLowerCase()] || \"status\";\n  }\n  const totalPujasBooked = bookings.length;\n  const upcomingPuja = bookings.find(b => new Date(b.puja_date) >= new Date() && b.status !== \"completed\");\n  const availablePoints = (user === null || user === void 0 ? void 0 : user.points) || 450;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-app-bg orange-theme\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-main\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"book-puja\",\n        className: \"book-puja-section\",\n        \"aria-label\": \"Book Puja\",\n        tabIndex: -1,\n        \"data-aos\": \"fade-up\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Book Your Puja\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-form-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleBookingSubmit,\n            className: \"booking-form\",\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"selectPandit\",\n                children: \"Select Pandit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"selectPandit\",\n                value: selectedPanditId,\n                onChange: handlePanditSelect,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Choose a Pandit --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), filteredPandits.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: p._id,\n                  children: [p.name, \" (\", p.city, \")\"]\n                }, p._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"selectPuja\",\n                children: \"Select Puja / Service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"selectPuja\",\n                value: selectedServiceId,\n                onChange: handleServiceSelect,\n                required: true,\n                disabled: poojas.length === 0,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: poojas.length > 0 ? \"-- Choose a Puja / Service --\" : \"Loading pujas...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this), poojas.map(pooja => {\n                  var _pooja$price;\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: pooja._id || pooja.id,\n                    children: [pooja.name, \" - \\u20B9\", (_pooja$price = pooja.price) === null || _pooja$price === void 0 ? void 0 : _pooja$price.toLocaleString()]\n                  }, pooja._id || pooja.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"submit-btn\",\n              disabled: bookingLoading,\n              children: bookingLoading ? \"Booking...\" : \"Confirm Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), (bookingStatus === null || bookingStatus === void 0 ? void 0 : bookingStatus.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error-message\",\n              role: \"alert\",\n              children: bookingStatus.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 40\n            }, this), (bookingStatus === null || bookingStatus === void 0 ? void 0 : bookingStatus.success) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"success-message\",\n              role: \"alert\",\n              children: bookingStatus.success\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"eSF8OAXCAjMDKNULpLzOfN1YK38=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StarRating\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Home","CalendarDays","Book","LogOut","ListChecks","MessageCircle","Search","Users","ChevronLeft","ChevronRight","Sparkle","Settings","Star","AnimatePresence","motion","AOS","createReview","getBookings","getVerifiedPandits","createBooking","getServices","getPoojas","ChatWindow","useNavigate","jsxDEV","_jsxDEV","StarRating","rating","onChange","className","children","map","i","role","tabIndex","onClick","onKeyDown","e","key","fileName","_jsxFileName","lineNumber","columnNumber","_c","Dashboard","_s","user","setUser","bookings","setBookings","pandits","setPandits","poojas","setPoojas","collapsed","setCollapsed","carouselIndex","setCarouselIndex","expandedPandits","setExpandedPandits","searchPandits","setSearchPandits","searchBookings","setSearchBookings","review","setReview","name","comment","reviewMessage","setReviewMessage","reviewLoading","setReviewLoading","showChatbot","setShowChatbot","chatPanditId","setChatPanditId","chatPanditName","setChatPanditName","currentDateTime","setCurrentDateTime","selectedPanditId","setSelectedPanditId","selectedServiceId","setSelectedServiceId","bookingDetails","setBookingDetails","puja_date","puja_time","location","bookingStatus","setBookingStatus","bookingLoading","setBookingLoading","navigate","panditListRef","bookingListRef","fetchBookings","userId","res","userid","data","error","console","fetchPandits","fetchPoojas","init","duration","once","token","localStorage","getItem","userData","parsedUser","JSON","parse","r","_id","clear","interval","setInterval","sliderImages","length","clearInterval","itv","Date","toLocaleString","dateStyle","timeStyle","timeZone","handlePanditSelect","panditId","target","value","handleServiceSelect","handleBookingDetailsChange","b","handleBookingSubmit","preventDefault","trim","payload","serviceId","status","success","_error$response","_error$response$data","response","message","setTimeout","filteredPandits","filter","p","_p$name","toLowerCase","includes","city","specialties","some","s","filteredBookings","_b$panditid","_b$serviceid","q","panditid","serviceid","toLocaleDateString","getStatusClass","accepted","confirmed","rejected","pending","completed","totalPujasBooked","upcomingPuja","find","availablePoints","points","id","onSubmit","noValidate","htmlFor","required","disabled","pooja","_pooja$price","price","type","_c2","$RefreshReg$"],"sources":["C:/Users/sv106/OneDrive/Desktop/Shubhkarya/Frontend/pandit-booking-frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  Home,\r\n  CalendarDays,\r\n  Book,\r\n  LogOut,\r\n  ListChecks,\r\n  MessageCircle,\r\n  Search,\r\n  Users,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Sparkle,\r\n  Settings,\r\n  Star,\r\n} from \"lucide-react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport AOS from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\nimport \"./Dashboard.css\";\r\nimport {\r\n  createReview,\r\n  getBookings,\r\n  getVerifiedPandits,\r\n  createBooking,\r\n  getServices,\r\n  getPoojas,  // Import getPoojas here\r\n} from \"../api/api\";\r\nimport ChatWindow from \"./ChatWindow\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Feature cards data and sidebarLinks omitted for brevity (use previous definitions)\r\n\r\nfunction StarRating({ rating, onChange }) {\r\n  return (\r\n    <div className=\"star-rating\" aria-label=\"Rating\">\r\n      {[1, 2, 3, 4, 5].map((i) => (\r\n        <span\r\n          key={i}\r\n          role=\"button\"\r\n          tabIndex=\"0\"\r\n          className={`star ${i <= rating ? \"active\" : \"\"}`}\r\n          aria-label={`Rate ${i} star${i > 1 ? \"s\" : \"\"}`}\r\n          onClick={() => onChange(i)}\r\n          onKeyDown={(e) =>\r\n            (e.key === \"Enter\" || e.key === \" \") && onChange(i)\r\n          }\r\n        >\r\n          ★\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [user, setUser] = useState(null);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [pandits, setPandits] = useState([]);\r\n  const [poojas, setPoojas] = useState([]); // State for pujas\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [carouselIndex, setCarouselIndex] = useState(0);\r\n  const [expandedPandits, setExpandedPandits] = useState({});\r\n  const [searchPandits, setSearchPandits] = useState(\"\");\r\n  const [searchBookings, setSearchBookings] = useState(\"\");\r\n  const [review, setReview] = useState({ name: \"\", rating: 0, comment: \"\" });\r\n  const [reviewMessage, setReviewMessage] = useState(\"\");\r\n  const [reviewLoading, setReviewLoading] = useState(false);\r\n  const [showChatbot, setShowChatbot] = useState(false);\r\n  const [chatPanditId, setChatPanditId] = useState(null);\r\n  const [chatPanditName, setChatPanditName] = useState(\"\");\r\n  const [currentDateTime, setCurrentDateTime] = useState(\"\");\r\n\r\n  // Booking state\r\n  const [selectedPanditId, setSelectedPanditId] = useState(\"\");\r\n  const [selectedServiceId, setSelectedServiceId] = useState(\"\");\r\n  const [bookingDetails, setBookingDetails] = useState({\r\n    puja_date: \"\",\r\n    puja_time: \"\",\r\n    location: \"\",\r\n  });\r\n  const [bookingStatus, setBookingStatus] = useState(null);\r\n  const [bookingLoading, setBookingLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const panditListRef = useRef(null);\r\n  const bookingListRef = useRef(null);\r\n\r\n  // Fetch bookings for the user\r\n  const fetchBookings = async (userId) => {\r\n    try {\r\n      const res = await getBookings({ userid: userId });\r\n      setBookings(res.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch bookings:\", error);\r\n    }\r\n  };\r\n\r\n  // Fetch verified pandits\r\n  const fetchPandits = async () => {\r\n    try {\r\n      const res = await getVerifiedPandits();\r\n      setPandits(res.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch pandits:\", error);\r\n    }\r\n  };\r\n\r\n  // Fetch all pujas\r\n  const fetchPoojas = async () => {\r\n    try {\r\n      const res = await getPoojas();\r\n      setPoojas(res.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch pujas:\", error);\r\n    }\r\n  };\r\n\r\n  // Initialization on mount\r\n  useEffect(() => {\r\n    AOS.init({ duration: 750, once: true });\r\n    const token = localStorage.getItem(\"token\");\r\n    const userData = localStorage.getItem(\"user\");\r\n    if (!token || !userData) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    try {\r\n      const parsedUser = JSON.parse(userData);\r\n      setUser(parsedUser);\r\n      setReview((r) => ({ ...r, name: parsedUser.name }));\r\n      fetchBookings(parsedUser._id);\r\n      fetchPandits();\r\n      fetchPoojas(); // Fetch pujas alongside pandits and bookings\r\n    } catch (e) {\r\n      console.error(\"Failed to parse user data:\", e);\r\n      localStorage.clear();\r\n      navigate('/login');\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Carousel auto-slide\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCarouselIndex((i) => (i + 1) % sliderImages.length);\r\n    }, 4500);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Current date-time every second\r\n  useEffect(() => {\r\n    const itv = setInterval(() => {\r\n      setCurrentDateTime(\r\n        new Date().toLocaleString(\"en-IN\", {\r\n          dateStyle: \"full\",\r\n          timeStyle: \"medium\",\r\n          timeZone: \"Asia/Kolkata\",\r\n        })\r\n      );\r\n    }, 1000);\r\n    return () => clearInterval(itv);\r\n  }, []);\r\n\r\n  // Other handlers remain unchanged (toggleExpand, handleNavClick, scrollList)\r\n\r\n  // Booking form handlers\r\n  function handlePanditSelect(e) {\r\n    const panditId = e.target.value;\r\n    setSelectedPanditId(panditId);\r\n    setSelectedServiceId(\"\");\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  function handleServiceSelect(e) {\r\n    setSelectedServiceId(e.target.value);\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  function handleBookingDetailsChange(e) {\r\n    const { name, value } = e.target;\r\n    setBookingDetails((b) => ({ ...b, [name]: value }));\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  async function handleBookingSubmit(e) {\r\n    e.preventDefault();\r\n    setBookingStatus(null);\r\n\r\n    if (!selectedPanditId) {\r\n      setBookingStatus({ error: \"Please select a Pandit.\" });\r\n      return;\r\n    }\r\n    if (!selectedServiceId) {\r\n      setBookingStatus({ error: \"Please select the Puja/service.\" });\r\n      return;\r\n    }\r\n    if (\r\n      !bookingDetails.puja_date ||\r\n      !bookingDetails.puja_time ||\r\n      !bookingDetails.location.trim()\r\n    ) {\r\n      setBookingStatus({ error: \"Please fill all booking details.\" });\r\n      return;\r\n    }\r\n    if (!user?._id) {\r\n      setBookingStatus({ error: \"User not found. Please login again.\" });\r\n      return;\r\n    }\r\n\r\n    setBookingLoading(true);\r\n\r\n    try {\r\n      const payload = {\r\n        userId: user._id,\r\n        panditId: selectedPanditId,\r\n        serviceId: selectedServiceId,\r\n        puja_date: bookingDetails.puja_date,\r\n        puja_time: bookingDetails.puja_time,\r\n        location: bookingDetails.location.trim(),\r\n        status: \"pending\",\r\n      };\r\n      await createBooking(payload);\r\n      setBookingStatus({ success: \"Puja booked successfully! Awaiting Pandit confirmation.\" });\r\n      fetchBookings(user._id);\r\n\r\n      setSelectedPanditId(\"\");\r\n      setSelectedServiceId(\"\");\r\n      setBookingDetails({ puja_date: \"\", puja_time: \"\", location: \"\" });\r\n    } catch (error) {\r\n      console.error(\"Booking error:\", error);\r\n      setBookingStatus({\r\n        error:\r\n          error?.response?.data?.message ||\r\n          \"Failed to book puja. Please try again later.\",\r\n      });\r\n    } finally {\r\n      setBookingLoading(false);\r\n      setTimeout(() => setBookingStatus(null), 3500);\r\n    }\r\n  }\r\n\r\n  const filteredPandits = pandits.filter(\r\n    (p) =>\r\n      (p.name?.toLowerCase() || \"\").includes(searchPandits.toLowerCase()) ||\r\n      (p.city || \"\").toLowerCase().includes(searchPandits.toLowerCase()) ||\r\n      (p.specialties || []).some((s) => s.toLowerCase().includes(searchPandits.toLowerCase()))\r\n  );\r\n\r\n  const filteredBookings = bookings.filter((b) => {\r\n    const q = searchBookings.toLowerCase();\r\n    return (\r\n      (b.panditid?.name || \"\").toLowerCase().includes(q) ||\r\n      (b.serviceid?.name || \"\").toLowerCase().includes(q) ||\r\n      new Date(b.puja_date).toLocaleDateString().includes(q) ||\r\n      (b.location || \"\").toLowerCase().includes(q)\r\n    );\r\n  });\r\n\r\n  function getStatusClass(status) {\r\n    return ({\r\n      accepted: \"status accepted\",\r\n      confirmed: \"status accepted\",\r\n      rejected: \"status rejected\",\r\n      pending: \"status pending\",\r\n      completed: \"status completed\",\r\n    }[(status || \"\").toLowerCase()] || \"status\");\r\n  }\r\n\r\n  const totalPujasBooked = bookings.length;\r\n  const upcomingPuja = bookings.find(\r\n    (b) => new Date(b.puja_date) >= new Date() && b.status !== \"completed\"\r\n  );\r\n  const availablePoints = user?.points || 450;\r\n\r\n  return (\r\n    <div className=\"dashboard-app-bg orange-theme\">\r\n      {/* Sidebar */}\r\n      {/* (Sidebar JSX unchanged, omitted for brevity) */}\r\n\r\n      {/* Header */}\r\n      {/* (Header JSX unchanged, omitted for brevity) */}\r\n\r\n      <main className=\"dashboard-main\">\r\n        {/* Dashboard overview (unchanged) */}\r\n\r\n        {/* Book Puja Section */}\r\n        <section\r\n          id=\"book-puja\"\r\n          className=\"book-puja-section\"\r\n          aria-label=\"Book Puja\"\r\n          tabIndex={-1}\r\n          data-aos=\"fade-up\"\r\n        >\r\n          <h2 className=\"section-heading\">Book Your Puja</h2>\r\n          <div className=\"booking-form-container\">\r\n            <form onSubmit={handleBookingSubmit} className=\"booking-form\" noValidate>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"selectPandit\">Select Pandit</label>\r\n                <select\r\n                  id=\"selectPandit\"\r\n                  value={selectedPanditId}\r\n                  onChange={handlePanditSelect}\r\n                  required\r\n                >\r\n                  <option value=\"\">-- Choose a Pandit --</option>\r\n                  {filteredPandits.map((p) => (\r\n                    <option key={p._id} value={p._id}>\r\n                      {p.name} ({p.city})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"selectPuja\">Select Puja / Service</label>\r\n                <select\r\n                  id=\"selectPuja\"\r\n                  value={selectedServiceId}\r\n                  onChange={handleServiceSelect}\r\n                  required\r\n                  disabled={poojas.length === 0}\r\n                >\r\n                  <option value=\"\">\r\n                    {poojas.length > 0 ? \"-- Choose a Puja / Service --\" : \"Loading pujas...\"}\r\n                  </option>\r\n                  {poojas.map((pooja) => (\r\n                    <option key={pooja._id || pooja.id} value={pooja._id || pooja.id}>\r\n                      {pooja.name} - ₹{pooja.price?.toLocaleString()}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Booking Details Form Inputs (date, time, location) omitted for brevity */}\r\n\r\n              <button type=\"submit\" className=\"submit-btn\" disabled={bookingLoading}>\r\n                {bookingLoading ? \"Booking...\" : \"Confirm Booking\"}\r\n              </button>\r\n\r\n              {bookingStatus?.error && <p className=\"error-message\" role=\"alert\">{bookingStatus.error}</p>}\r\n              {bookingStatus?.success && <p className=\"success-message\" role=\"alert\">{bookingStatus.success}</p>}\r\n            </form>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Verified Pandits, Chat Window, My Bookings, Reviews, Chatbot Button sections unchanged */}\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}