{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sv106\\\\OneDrive\\\\Desktop\\\\Shubhkarya\\\\Frontend\\\\pandit-booking-frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Home, CalendarDays, Book, LogOut, ListChecks, MessageCircle, Users, ChevronLeft, ChevronRight, Sparkle, Settings } from \"lucide-react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport \"./Dashboard.css\";\nimport { createReview, getBookings, getVerifiedPandits, createBooking } from \"../api/api\";\nimport ChatWindow from \"./ChatWindow\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst featureCardsData = [{\n  title: \"Live Chat Support\",\n  description: \"Ask spiritual or booking questions to our team – instant help, 7am to 10pm.\",\n  icon: MessageCircle\n}, {\n  title: \"Preferred Pandit Booking\",\n  description: \"Save favorite Pandits, see their next available slots, and book with just one tap.\",\n  icon: Users\n}, {\n  title: \"Festive Offers\",\n  description: \"Special discounts and promo codes for all major festivals and family events.\",\n  icon: Sparkle\n}];\nconst sidebarLinks = [{\n  label: \"Dashboard\",\n  icon: Home,\n  goto: \"/\"\n}, {\n  label: \"Book Puja\",\n  icon: Book,\n  goto: \"#book-puja\"\n}, {\n  label: \"My Bookings\",\n  icon: CalendarDays,\n  goto: \"#booking\"\n}, {\n  label: \"Reviews\",\n  icon: MessageCircle,\n  goto: \"#review\"\n}, {\n  label: \"Settings\",\n  icon: Settings,\n  goto: \"#settings\"\n}, {\n  label: \"Logout\",\n  icon: LogOut,\n  goto: \"/home\",\n  logout: true\n}];\nconst sliderImages = [\"/images/i2.jpeg\", \"/images/kalash.jpeg\", \"/images/havan.jpeg\", \"/images/i3.jpeg\", \"/images/i1.jpeg\"];\nfunction StarRating({\n  rating,\n  onChange\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"star-rating\",\n    \"aria-label\": \"Rating\",\n    children: [1, 2, 3, 4, 5].map(i => /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"button\",\n      tabIndex: \"0\",\n      className: `star ${i <= rating ? \"active\" : \"\"}`,\n      \"aria-label\": `Rate ${i} star${i > 1 ? \"s\" : \"\"}`,\n      onClick: () => onChange(i),\n      onKeyDown: e => (e.key === \"Enter\" || e.key === \" \") && onChange(i),\n      children: \"\\u2605\"\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_c = StarRating;\nexport default function Dashboard() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [bookings, setBookings] = useState([]);\n  const [pandits, setPandits] = useState([]);\n  const [collapsed, setCollapsed] = useState(false);\n  const [carouselIndex, setCarouselIndex] = useState(0);\n  const [expandedPandits, setExpandedPandits] = useState({});\n  const [searchPandits, setSearchPandits] = useState(\"\");\n  const [searchBookings, setSearchBookings] = useState(\"\");\n  const [review, setReview] = useState({\n    name: \"\",\n    rating: 0,\n    comment: \"\"\n  });\n  const [reviewMessage, setReviewMessage] = useState(\"\");\n  const [reviewLoading, setReviewLoading] = useState(false);\n  const [showChatbot, setShowChatbot] = useState(false);\n  const [chatPanditId, setChatPanditId] = useState(null);\n  const [chatPanditName, setChatPanditName] = useState(\"\");\n  const [currentDateTime, setCurrentDateTime] = useState(\"\");\n  const [selectedPanditId, setSelectedPanditId] = useState(\"\");\n  const [selectedServiceId, setSelectedServiceId] = useState(\"\");\n  const [bookingDetails, setBookingDetails] = useState({\n    puja_date: \"\",\n    puja_time: \"\",\n    location: \"\"\n  });\n  const [bookingStatus, setBookingStatus] = useState(null);\n  const [bookingLoading, setBookingLoading] = useState(false);\n  const navigate = useNavigate();\n  const panditListRef = useRef(null);\n  const bookingListRef = useRef(null);\n  const sidebarRef = useRef(null);\n\n  // Auto-close sidebar on hover outside\n  useEffect(() => {\n    const handleMouseMove = e => {\n      if (!collapsed && sidebarRef.current && !sidebarRef.current.contains(e.target)) {\n        setCollapsed(true);\n      }\n    };\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    return () => document.removeEventListener(\"mousemove\", handleMouseMove);\n  }, [collapsed]);\n\n  // Fetch user, bookings, pandits on mount\n  useEffect(() => {\n    AOS.init({\n      duration: 750,\n      once: true\n    });\n    const token = localStorage.getItem(\"token\");\n    const userData = localStorage.getItem(\"user\");\n    if (!token || !userData) {\n      navigate(\"/login\");\n      return;\n    }\n    try {\n      const parsedUser = JSON.parse(userData);\n      setUser(parsedUser);\n      setReview(r => ({\n        ...r,\n        name: parsedUser.name\n      }));\n      fetchBookings(parsedUser._id);\n      fetchPandits();\n    } catch (e) {\n      console.error(\"Failed to parse user data:\", e);\n      localStorage.clear();\n      navigate(\"/login\");\n    }\n  }, [navigate]);\n  const fetchBookings = async userId => {\n    try {\n      const res = await getBookings({\n        userid: userId\n      });\n      setBookings(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch bookings:\", error);\n    }\n  };\n  const fetchPandits = async () => {\n    try {\n      const res = await getVerifiedPandits();\n      setPandits(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch pandits:\", error);\n    }\n  };\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCarouselIndex(i => (i + 1) % sliderImages.length);\n    }, 4500);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const itv = setInterval(() => {\n      setCurrentDateTime(new Date().toLocaleString(\"en-IN\", {\n        dateStyle: \"full\",\n        timeStyle: \"medium\",\n        timeZone: \"Asia/Kolkata\"\n      }));\n    }, 1000);\n    return () => clearInterval(itv);\n  }, []);\n  function toggleExpand(id) {\n    setExpandedPandits(prev => ({\n      ...prev,\n      [id]: !prev[id]\n    }));\n  }\n  const getStatusClass = status => ({\n    accepted: \"status accepted\",\n    confirmed: \"status accepted\",\n    rejected: \"status rejected\",\n    pending: \"status pending\",\n    completed: \"status completed\"\n  })[(status || \"\").toLowerCase()] || \"status\";\n  const filteredPandits = pandits.filter(p => {\n    var _p$name;\n    return (((_p$name = p.name) === null || _p$name === void 0 ? void 0 : _p$name.toLowerCase()) || \"\").includes(searchPandits.toLowerCase()) || (p.city || \"\").toLowerCase().includes(searchPandits.toLowerCase()) || (p.specialties || []).some(s => s.toLowerCase().includes(searchPandits.toLowerCase()));\n  });\n  const filteredBookings = bookings.filter(b => {\n    var _b$panditid, _b$serviceid;\n    const q = searchBookings.toLowerCase();\n    return (((_b$panditid = b.panditid) === null || _b$panditid === void 0 ? void 0 : _b$panditid.name) || \"\").toLowerCase().includes(q) || (((_b$serviceid = b.serviceid) === null || _b$serviceid === void 0 ? void 0 : _b$serviceid.name) || \"\").toLowerCase().includes(q) || new Date(b.puja_date).toLocaleDateString().includes(q) || (b.location || \"\").toLowerCase().includes(q);\n  });\n  async function handleReviewSubmit(e) {\n    e.preventDefault();\n    if (!review.name || !review.comment || !review.rating) {\n      setReviewMessage(\"Please complete all fields and provide star rating.\");\n      return;\n    }\n    setReviewLoading(true);\n    try {\n      await createReview(review);\n      setReviewMessage(\"Thank you for your review!\");\n      setReview(r => ({\n        name: r.name,\n        rating: 0,\n        comment: \"\"\n      }));\n    } catch (error) {\n      console.error(\"Review submission error:\", error);\n      setReviewMessage(\"Failed to submit review.\");\n    } finally {\n      setReviewLoading(false);\n      setTimeout(() => setReviewMessage(\"\"), 2500);\n    }\n  }\n  function handleNavClick(item) {\n    if (item.logout) {\n      localStorage.clear();\n      navigate(item.goto);\n    } else if (String(item.goto).startsWith(\"#\")) {\n      const section = document.querySelector(item.goto);\n      if (section) section.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      });\n    } else {\n      navigate(item.goto);\n    }\n  }\n  function scrollList(ref, direction = \"left\") {\n    if (ref.current) {\n      const scrollAmount = 320;\n      ref.current.scrollBy({\n        left: direction === \"left\" ? -scrollAmount : scrollAmount,\n        behavior: \"smooth\"\n      });\n    }\n  }\n  function handlePanditSelect(e) {\n    const panditId = e.target.value;\n    setSelectedPanditId(panditId);\n    setSelectedServiceId(\"\");\n    setBookingStatus(null);\n  }\n  function handleServiceSelect(e) {\n    setSelectedServiceId(e.target.value);\n    setBookingStatus(null);\n  }\n  function handleBookingDetailsChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setBookingDetails(b => ({\n      ...b,\n      [name]: value\n    }));\n    setBookingStatus(null);\n  }\n  async function handleBookingSubmit(e) {\n    e.preventDefault();\n    setBookingStatus(null);\n    if (!selectedPanditId) {\n      setBookingStatus({\n        error: \"Please select a Pandit.\"\n      });\n      return;\n    }\n    if (!selectedServiceId) {\n      setBookingStatus({\n        error: \"Please select the Puja/service.\"\n      });\n      return;\n    }\n    if (!bookingDetails.puja_date || !bookingDetails.puja_time || !bookingDetails.location.trim()) {\n      setBookingStatus({\n        error: \"Please fill all booking details.\"\n      });\n      return;\n    }\n    if (!(user !== null && user !== void 0 && user._id)) {\n      setBookingStatus({\n        error: \"User not found. Please login again.\"\n      });\n      return;\n    }\n    setBookingLoading(true);\n    try {\n      const payload = {\n        userId: user._id,\n        panditId: selectedPanditId,\n        serviceId: selectedServiceId,\n        puja_date: bookingDetails.puja_date,\n        puja_time: bookingDetails.puja_time,\n        location: bookingDetails.location.trim(),\n        status: \"pending\"\n      };\n      await createBooking(payload);\n      setBookingStatus({\n        success: \"Puja booked successfully! Awaiting Pandit confirmation.\"\n      });\n      fetchBookings(user._id);\n      setSelectedPanditId(\"\");\n      setSelectedServiceId(\"\");\n      setBookingDetails({\n        puja_date: \"\",\n        puja_time: \"\",\n        location: \"\"\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Booking error:\", error);\n      setBookingStatus({\n        error: (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to book puja. Please try again later.\"\n      });\n    } finally {\n      setBookingLoading(false);\n      setTimeout(() => setBookingStatus(null), 3500);\n    }\n  }\n  const selectedPandit = pandits.find(p => p._id === selectedPanditId) || null;\n  const servicesOptions = (selectedPandit === null || selectedPandit === void 0 ? void 0 : selectedPandit.services) || [];\n\n  // Calculate dashboard stats\n  const totalPujasBooked = bookings.length;\n  const upcomingPuja = bookings.find(b => new Date(b.puja_date) >= new Date() && b.status !== \"completed\");\n  const availablePoints = (user === null || user === void 0 ? void 0 : user.points) || 450;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-app-bg orange-theme\",\n    children: /*#__PURE__*/_jsxDEV(\"aside\", {\n      ref: sidebarRef,\n      className: `sidebar-root${collapsed ? \" collapsed\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/subh.png\",\n          alt: \"Shubhkarya Logo\",\n          className: \"sidebar-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), !collapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-brand-name\",\n          tabIndex: 0,\n          children: \"Shubhkarya\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"sidebar-links\",\n        \"aria-label\": \"Main navigation\",\n        children: sidebarLinks.map(({\n          label,\n          icon: Icon,\n          goto,\n          logout\n        }) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebar-link\",\n          tabIndex: 0,\n          onClick: () => handleNavClick({\n            goto,\n            logout\n          }),\n          \"aria-label\": label,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            size: 22,\n            className: \"sidebar-link-icon\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), !collapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 30\n          }, this)]\n        }, label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sidebar-collapse-btn\",\n        onClick: () => setCollapsed(c => !c),\n        \"aria-label\": collapsed ? \"Expand sidebar\" : \"Collapse sidebar\",\n        children: /*#__PURE__*/_jsxDEV(ListChecks, {\n          size: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"DBlbQ4xmB1eGpMC5kmmpUQLRtBg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StarRating\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Home","CalendarDays","Book","LogOut","ListChecks","MessageCircle","Users","ChevronLeft","ChevronRight","Sparkle","Settings","AnimatePresence","motion","AOS","createReview","getBookings","getVerifiedPandits","createBooking","ChatWindow","useNavigate","jsxDEV","_jsxDEV","featureCardsData","title","description","icon","sidebarLinks","label","goto","logout","sliderImages","StarRating","rating","onChange","className","children","map","i","role","tabIndex","onClick","onKeyDown","e","key","fileName","_jsxFileName","lineNumber","columnNumber","_c","Dashboard","_s","user","setUser","bookings","setBookings","pandits","setPandits","collapsed","setCollapsed","carouselIndex","setCarouselIndex","expandedPandits","setExpandedPandits","searchPandits","setSearchPandits","searchBookings","setSearchBookings","review","setReview","name","comment","reviewMessage","setReviewMessage","reviewLoading","setReviewLoading","showChatbot","setShowChatbot","chatPanditId","setChatPanditId","chatPanditName","setChatPanditName","currentDateTime","setCurrentDateTime","selectedPanditId","setSelectedPanditId","selectedServiceId","setSelectedServiceId","bookingDetails","setBookingDetails","puja_date","puja_time","location","bookingStatus","setBookingStatus","bookingLoading","setBookingLoading","navigate","panditListRef","bookingListRef","sidebarRef","handleMouseMove","current","contains","target","document","addEventListener","removeEventListener","init","duration","once","token","localStorage","getItem","userData","parsedUser","JSON","parse","r","fetchBookings","_id","fetchPandits","console","error","clear","userId","res","userid","data","interval","setInterval","length","clearInterval","itv","Date","toLocaleString","dateStyle","timeStyle","timeZone","toggleExpand","id","prev","getStatusClass","status","accepted","confirmed","rejected","pending","completed","toLowerCase","filteredPandits","filter","p","_p$name","includes","city","specialties","some","s","filteredBookings","b","_b$panditid","_b$serviceid","q","panditid","serviceid","toLocaleDateString","handleReviewSubmit","preventDefault","setTimeout","handleNavClick","item","String","startsWith","section","querySelector","scrollIntoView","behavior","block","scrollList","ref","direction","scrollAmount","scrollBy","left","handlePanditSelect","panditId","value","handleServiceSelect","handleBookingDetailsChange","handleBookingSubmit","trim","payload","serviceId","success","_error$response","_error$response$data","response","message","selectedPandit","find","servicesOptions","services","totalPujasBooked","upcomingPuja","availablePoints","points","src","alt","Icon","size","c","_c2","$RefreshReg$"],"sources":["C:/Users/sv106/OneDrive/Desktop/Shubhkarya/Frontend/pandit-booking-frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  Home,\r\n  CalendarDays,\r\n  Book,\r\n  LogOut,\r\n  ListChecks,\r\n  MessageCircle,\r\n  Users,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Sparkle,\r\n  Settings,\r\n} from \"lucide-react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport AOS from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\nimport \"./Dashboard.css\";\r\nimport {\r\n  createReview,\r\n  getBookings,\r\n  getVerifiedPandits,\r\n  createBooking,\r\n} from \"../api/api\";\r\nimport ChatWindow from \"./ChatWindow\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst featureCardsData = [\r\n  {\r\n    title: \"Live Chat Support\",\r\n    description: \"Ask spiritual or booking questions to our team – instant help, 7am to 10pm.\",\r\n    icon: MessageCircle,\r\n  },\r\n  {\r\n    title: \"Preferred Pandit Booking\",\r\n    description: \"Save favorite Pandits, see their next available slots, and book with just one tap.\",\r\n    icon: Users,\r\n  },\r\n  {\r\n    title: \"Festive Offers\",\r\n    description: \"Special discounts and promo codes for all major festivals and family events.\",\r\n    icon: Sparkle,\r\n  },\r\n];\r\n\r\nconst sidebarLinks = [\r\n  { label: \"Dashboard\", icon: Home, goto: \"/\" },\r\n  { label: \"Book Puja\", icon: Book, goto: \"#book-puja\" },\r\n  { label: \"My Bookings\", icon: CalendarDays, goto: \"#booking\" },\r\n  { label: \"Reviews\", icon: MessageCircle, goto: \"#review\" },\r\n  { label: \"Settings\", icon: Settings, goto: \"#settings\" },\r\n  { label: \"Logout\", icon: LogOut, goto: \"/home\", logout: true },\r\n];\r\n\r\nconst sliderImages = [\r\n  \"/images/i2.jpeg\",\r\n  \"/images/kalash.jpeg\",\r\n  \"/images/havan.jpeg\",\r\n  \"/images/i3.jpeg\",\r\n  \"/images/i1.jpeg\",\r\n];\r\n\r\nfunction StarRating({ rating, onChange }) {\r\n  return (\r\n    <div className=\"star-rating\" aria-label=\"Rating\">\r\n      {[1, 2, 3, 4, 5].map((i) => (\r\n        <span\r\n          key={i}\r\n          role=\"button\"\r\n          tabIndex=\"0\"\r\n          className={`star ${i <= rating ? \"active\" : \"\"}`}\r\n          aria-label={`Rate ${i} star${i > 1 ? \"s\" : \"\"}`}\r\n          onClick={() => onChange(i)}\r\n          onKeyDown={(e) => (e.key === \"Enter\" || e.key === \" \") && onChange(i)}\r\n        >\r\n          ★\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [user, setUser] = useState(null);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [pandits, setPandits] = useState([]);\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [carouselIndex, setCarouselIndex] = useState(0);\r\n  const [expandedPandits, setExpandedPandits] = useState({});\r\n  const [searchPandits, setSearchPandits] = useState(\"\");\r\n  const [searchBookings, setSearchBookings] = useState(\"\");\r\n  const [review, setReview] = useState({ name: \"\", rating: 0, comment: \"\" });\r\n  const [reviewMessage, setReviewMessage] = useState(\"\");\r\n  const [reviewLoading, setReviewLoading] = useState(false);\r\n  const [showChatbot, setShowChatbot] = useState(false);\r\n  const [chatPanditId, setChatPanditId] = useState(null);\r\n  const [chatPanditName, setChatPanditName] = useState(\"\");\r\n  const [currentDateTime, setCurrentDateTime] = useState(\"\");\r\n\r\n  const [selectedPanditId, setSelectedPanditId] = useState(\"\");\r\n  const [selectedServiceId, setSelectedServiceId] = useState(\"\");\r\n  const [bookingDetails, setBookingDetails] = useState({\r\n    puja_date: \"\",\r\n    puja_time: \"\",\r\n    location: \"\",\r\n  });\r\n  const [bookingStatus, setBookingStatus] = useState(null);\r\n  const [bookingLoading, setBookingLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const panditListRef = useRef(null);\r\n  const bookingListRef = useRef(null);\r\n  const sidebarRef = useRef(null);\r\n\r\n  // Auto-close sidebar on hover outside\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => {\r\n      if (!collapsed && sidebarRef.current && !sidebarRef.current.contains(e.target)) {\r\n        setCollapsed(true);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousemove\", handleMouseMove);\r\n    return () => document.removeEventListener(\"mousemove\", handleMouseMove);\r\n  }, [collapsed]);\r\n\r\n  // Fetch user, bookings, pandits on mount\r\n  useEffect(() => {\r\n    AOS.init({ duration: 750, once: true });\r\n    const token = localStorage.getItem(\"token\");\r\n    const userData = localStorage.getItem(\"user\");\r\n    if (!token || !userData) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    try {\r\n      const parsedUser = JSON.parse(userData);\r\n      setUser(parsedUser);\r\n      setReview((r) => ({ ...r, name: parsedUser.name }));\r\n      fetchBookings(parsedUser._id);\r\n      fetchPandits();\r\n    } catch (e) {\r\n      console.error(\"Failed to parse user data:\", e);\r\n      localStorage.clear();\r\n      navigate(\"/login\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const fetchBookings = async (userId) => {\r\n    try {\r\n      const res = await getBookings({ userid: userId });\r\n      setBookings(res.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch bookings:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchPandits = async () => {\r\n    try {\r\n      const res = await getVerifiedPandits();\r\n      setPandits(res.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch pandits:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCarouselIndex((i) => (i + 1) % sliderImages.length);\r\n    }, 4500);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const itv = setInterval(() => {\r\n      setCurrentDateTime(\r\n        new Date().toLocaleString(\"en-IN\", {\r\n          dateStyle: \"full\",\r\n          timeStyle: \"medium\",\r\n          timeZone: \"Asia/Kolkata\",\r\n        })\r\n      );\r\n    }, 1000);\r\n    return () => clearInterval(itv);\r\n  }, []);\r\n\r\n  function toggleExpand(id) {\r\n    setExpandedPandits((prev) => ({ ...prev, [id]: !prev[id] }));\r\n  }\r\n\r\n  const getStatusClass = (status) =>\r\n    ({\r\n      accepted: \"status accepted\",\r\n      confirmed: \"status accepted\",\r\n      rejected: \"status rejected\",\r\n      pending: \"status pending\",\r\n      completed: \"status completed\",\r\n    }[(status || \"\").toLowerCase()] || \"status\");\r\n\r\n  const filteredPandits = pandits.filter(\r\n    (p) =>\r\n      (p.name?.toLowerCase() || \"\").includes(searchPandits.toLowerCase()) ||\r\n      (p.city || \"\").toLowerCase().includes(searchPandits.toLowerCase()) ||\r\n      (p.specialties || []).some((s) =>\r\n        s.toLowerCase().includes(searchPandits.toLowerCase())\r\n      )\r\n  );\r\n\r\n  const filteredBookings = bookings.filter((b) => {\r\n    const q = searchBookings.toLowerCase();\r\n    return (\r\n      (b.panditid?.name || \"\").toLowerCase().includes(q) ||\r\n      (b.serviceid?.name || \"\").toLowerCase().includes(q) ||\r\n      new Date(b.puja_date).toLocaleDateString().includes(q) ||\r\n      (b.location || \"\").toLowerCase().includes(q)\r\n    );\r\n  });\r\n\r\n  async function handleReviewSubmit(e) {\r\n    e.preventDefault();\r\n    if (!review.name || !review.comment || !review.rating) {\r\n      setReviewMessage(\"Please complete all fields and provide star rating.\");\r\n      return;\r\n    }\r\n    setReviewLoading(true);\r\n    try {\r\n      await createReview(review);\r\n      setReviewMessage(\"Thank you for your review!\");\r\n      setReview((r) => ({ name: r.name, rating: 0, comment: \"\" }));\r\n    } catch (error) {\r\n      console.error(\"Review submission error:\", error);\r\n      setReviewMessage(\"Failed to submit review.\");\r\n    } finally {\r\n      setReviewLoading(false);\r\n      setTimeout(() => setReviewMessage(\"\"), 2500);\r\n    }\r\n  }\r\n\r\n  function handleNavClick(item) {\r\n    if (item.logout) {\r\n      localStorage.clear();\r\n      navigate(item.goto);\r\n    } else if (String(item.goto).startsWith(\"#\")) {\r\n      const section = document.querySelector(item.goto);\r\n      if (section)\r\n        section.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"start\",\r\n        });\r\n    } else {\r\n      navigate(item.goto);\r\n    }\r\n  }\r\n\r\n  function scrollList(ref, direction = \"left\") {\r\n    if (ref.current) {\r\n      const scrollAmount = 320;\r\n      ref.current.scrollBy({\r\n        left: direction === \"left\" ? -scrollAmount : scrollAmount,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  function handlePanditSelect(e) {\r\n    const panditId = e.target.value;\r\n    setSelectedPanditId(panditId);\r\n    setSelectedServiceId(\"\");\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  function handleServiceSelect(e) {\r\n    setSelectedServiceId(e.target.value);\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  function handleBookingDetailsChange(e) {\r\n    const { name, value } = e.target;\r\n    setBookingDetails((b) => ({ ...b, [name]: value }));\r\n    setBookingStatus(null);\r\n  }\r\n\r\n  async function handleBookingSubmit(e) {\r\n    e.preventDefault();\r\n    setBookingStatus(null);\r\n\r\n    if (!selectedPanditId) {\r\n      setBookingStatus({ error: \"Please select a Pandit.\" });\r\n      return;\r\n    }\r\n    if (!selectedServiceId) {\r\n      setBookingStatus({ error: \"Please select the Puja/service.\" });\r\n      return;\r\n    }\r\n    if (\r\n      !bookingDetails.puja_date ||\r\n      !bookingDetails.puja_time ||\r\n      !bookingDetails.location.trim()\r\n    ) {\r\n      setBookingStatus({ error: \"Please fill all booking details.\" });\r\n      return;\r\n    }\r\n    if (!user?._id) {\r\n      setBookingStatus({ error: \"User not found. Please login again.\" });\r\n      return;\r\n    }\r\n\r\n    setBookingLoading(true);\r\n\r\n    try {\r\n      const payload = {\r\n        userId: user._id,\r\n        panditId: selectedPanditId,\r\n        serviceId: selectedServiceId,\r\n        puja_date: bookingDetails.puja_date,\r\n        puja_time: bookingDetails.puja_time,\r\n        location: bookingDetails.location.trim(),\r\n        status: \"pending\",\r\n      };\r\n\r\n      await createBooking(payload);\r\n\r\n      setBookingStatus({\r\n        success: \"Puja booked successfully! Awaiting Pandit confirmation.\",\r\n      });\r\n\r\n      fetchBookings(user._id);\r\n\r\n      setSelectedPanditId(\"\");\r\n      setSelectedServiceId(\"\");\r\n      setBookingDetails({ puja_date: \"\", puja_time: \"\", location: \"\" });\r\n    } catch (error) {\r\n      console.error(\"Booking error:\", error);\r\n      setBookingStatus({\r\n        error:\r\n          error?.response?.data?.message ||\r\n          \"Failed to book puja. Please try again later.\",\r\n      });\r\n    } finally {\r\n      setBookingLoading(false);\r\n      setTimeout(() => setBookingStatus(null), 3500);\r\n    }\r\n  }\r\n\r\n  const selectedPandit = pandits.find((p) => p._id === selectedPanditId) || null;\r\n  const servicesOptions = selectedPandit?.services || [];\r\n\r\n  // Calculate dashboard stats\r\n  const totalPujasBooked = bookings.length;\r\n  const upcomingPuja = bookings.find(\r\n    (b) => new Date(b.puja_date) >= new Date() && b.status !== \"completed\"\r\n  );\r\n  const availablePoints = user?.points || 450;\r\n\r\n  return (\r\n    <div className=\"dashboard-app-bg orange-theme\">\r\n      {/* Sidebar */}\r\n      <aside\r\n        ref={sidebarRef}\r\n        className={`sidebar-root${collapsed ? \" collapsed\" : \"\"}`}\r\n      >\r\n        <div className=\"sidebar-brand\">\r\n          <img\r\n            src=\"/images/subh.png\"\r\n            alt=\"Shubhkarya Logo\"\r\n            className=\"sidebar-logo\"\r\n          />\r\n          {!collapsed && (\r\n            <span className=\"sidebar-brand-name\" tabIndex={0}>\r\n              Shubhkarya\r\n            </span>\r\n          )}\r\n        </div>\r\n        <nav className=\"sidebar-links\" aria-label=\"Main navigation\">\r\n          {sidebarLinks.map(({ label, icon: Icon, goto, logout }) => (\r\n            <button\r\n              key={label}\r\n              className=\"sidebar-link\"\r\n              tabIndex={0}\r\n              onClick={() => handleNavClick({ goto, logout })}\r\n              aria-label={label}\r\n            >\r\n              <Icon size={22} className=\"sidebar-link-icon\" aria-hidden=\"true\" />\r\n              {!collapsed && <span>{label}</span>}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n        <button\r\n          className=\"sidebar-collapse-btn\"\r\n          onClick={() => setCollapsed((c) => !c)}\r\n          aria-label={collapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\r\n        >\r\n          <ListChecks size={22} />\r\n        </button>\r\n      </aside>\r\n\r\n      {/* Header, Main content and other JSX omitted for brevity */}\r\n      {/* ... */}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}