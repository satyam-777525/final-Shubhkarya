{"ast":null,"code":"// src/pages/Notifications.jsx\nimport React,{useEffect,useState}from'react';import{getNotifications,markNotificationAsRead}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Notifications(){const[notifications,setNotifications]=useState([]);const[loading,setLoading]=useState(true);const fetchNotifications=async()=>{try{const res=await getNotifications();setNotifications(res.data);}catch(err){console.error('Error fetching notifications:',err);}finally{setLoading(false);}};const handleMarkAsRead=async id=>{try{await markNotificationAsRead(id);setNotifications(prev=>prev.map(n=>n._id===id?{...n,read:true}:n));}catch(err){console.error('Failed to mark as read:',err);}};useEffect(()=>{fetchNotifications();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading notifications...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Notifications\"}),/*#__PURE__*/_jsx(\"ul\",{children:notifications.length===0?/*#__PURE__*/_jsx(\"li\",{children:\"No notifications available.\"}):notifications.map(note=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:note.read?'normal':'bold'},children:note.message}),!note.read&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMarkAsRead(note._id),style:{marginLeft:'10px'},children:\"Mark as Read\"})]},note._id))})]});}export default Notifications;","map":{"version":3,"names":["React","useEffect","useState","getNotifications","markNotificationAsRead","jsx","_jsx","jsxs","_jsxs","Notifications","notifications","setNotifications","loading","setLoading","fetchNotifications","res","data","err","console","error","handleMarkAsRead","id","prev","map","n","_id","read","children","length","note","style","fontWeight","message","onClick","marginLeft"],"sources":["C:/Users/sv106/OneDrive/Desktop/Shubhkarya/Frontend/pandit-booking-frontend/src/pages/Notifications.js"],"sourcesContent":["// src/pages/Notifications.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getNotifications, markNotificationAsRead } from '../api/api';\r\n\r\nfunction Notifications() {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const res = await getNotifications();\r\n      setNotifications(res.data);\r\n    } catch (err) {\r\n      console.error('Error fetching notifications:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkAsRead = async (id) => {\r\n    try {\r\n      await markNotificationAsRead(id);\r\n      setNotifications((prev) =>\r\n        prev.map((n) =>\r\n          n._id === id ? { ...n, read: true } : n\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error('Failed to mark as read:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchNotifications();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading notifications...</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Notifications</h2>\r\n      <ul>\r\n        {notifications.length === 0 ? (\r\n          <li>No notifications available.</li>\r\n        ) : (\r\n          notifications.map((note) => (\r\n            <li key={note._id}>\r\n              <span style={{ fontWeight: note.read ? 'normal' : 'bold' }}>\r\n                {note.message}\r\n              </span>\r\n              {!note.read && (\r\n                <button onClick={() => handleMarkAsRead(note._id)} style={{ marginLeft: '10px' }}>\r\n                  Mark as Read\r\n                </button>\r\n              )}\r\n            </li>\r\n          ))\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notifications;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,gBAAgB,CAAEC,sBAAsB,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtE,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAY,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,gBAAgB,CAAC,CAAC,CACpCQ,gBAAgB,CAACI,GAAG,CAACC,IAAI,CAAC,CAC5B,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEF,GAAG,CAAC,CACrD,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAO,gBAAgB,CAAG,KAAO,CAAAC,EAAE,EAAK,CACrC,GAAI,CACF,KAAM,CAAAjB,sBAAsB,CAACiB,EAAE,CAAC,CAChCV,gBAAgB,CAAEW,IAAI,EACpBA,IAAI,CAACC,GAAG,CAAEC,CAAC,EACTA,CAAC,CAACC,GAAG,GAAKJ,EAAE,CAAG,CAAE,GAAGG,CAAC,CAAEE,IAAI,CAAE,IAAK,CAAC,CAAGF,CACxC,CACF,CAAC,CACH,CAAE,MAAOP,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEF,GAAG,CAAC,CAC/C,CACF,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACda,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,OAAO,CAAE,mBAAON,IAAA,MAAAqB,QAAA,CAAG,0BAAwB,CAAG,CAAC,CAEnD,mBACEnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBrB,IAAA,OAAAqB,QAAA,CACGjB,aAAa,CAACkB,MAAM,GAAK,CAAC,cACzBtB,IAAA,OAAAqB,QAAA,CAAI,6BAA2B,CAAI,CAAC,CAEpCjB,aAAa,CAACa,GAAG,CAAEM,IAAI,eACrBrB,KAAA,OAAAmB,QAAA,eACErB,IAAA,SAAMwB,KAAK,CAAE,CAAEC,UAAU,CAAEF,IAAI,CAACH,IAAI,CAAG,QAAQ,CAAG,MAAO,CAAE,CAAAC,QAAA,CACxDE,IAAI,CAACG,OAAO,CACT,CAAC,CACN,CAACH,IAAI,CAACH,IAAI,eACTpB,IAAA,WAAQ2B,OAAO,CAAEA,CAAA,GAAMb,gBAAgB,CAACS,IAAI,CAACJ,GAAG,CAAE,CAACK,KAAK,CAAE,CAAEI,UAAU,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,cAElF,CAAQ,CACT,GARME,IAAI,CAACJ,GASV,CACL,CACF,CACC,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAhB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}