{"ast":null,"code":"import React,{useState}from'react';import{createReview}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReviewForm(){const[review,setReview]=useState({name:'',rating:'',comment:''});const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();const ratingValue=Number(review.rating);if(!review.name||!review.comment||isNaN(ratingValue)||ratingValue<1||ratingValue>5){alert('Please fill all fields and enter a rating between 1 and 5.');return;}try{setLoading(true);await createReview({name:review.name,rating:ratingValue,comment:review.comment});alert('✅ Review submitted!');setReview({name:'',rating:'',comment:''});}catch(error){var _error$response,_error$response$data;console.error('Review submission failed:',error);const msg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to submit review';alert(`❌ ${msg}`);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{maxWidth:500,margin:'auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Submit a Review\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:review.name,onChange:e=>setReview({...review,name:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Rating (1\\u20135):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:review.rating,onChange:e=>setReview({...review,rating:e.target.value}),min:1,max:5,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Comment:\",/*#__PURE__*/_jsx(\"textarea\",{value:review.comment,onChange:e=>setReview({...review,comment:e.target.value}),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Submitting...':'Submit Review'})]});}export default ReviewForm;","map":{"version":3,"names":["React","useState","createReview","jsx","_jsx","jsxs","_jsxs","ReviewForm","review","setReview","name","rating","comment","loading","setLoading","handleSubmit","e","preventDefault","ratingValue","Number","isNaN","alert","error","_error$response","_error$response$data","console","msg","response","data","onSubmit","style","maxWidth","margin","children","type","value","onChange","target","required","min","max","disabled"],"sources":["C:/Users/sv106/OneDrive/Desktop/Shubhkarya/Frontend/pandit-booking-frontend/src/pages/Review.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { createReview } from '../api/api';\r\n\r\nfunction ReviewForm() {\r\n  const [review, setReview] = useState({\r\n    name: '',\r\n    rating: '',\r\n    comment: '',\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const ratingValue = Number(review.rating);\r\n    if (!review.name || !review.comment || isNaN(ratingValue) || ratingValue < 1 || ratingValue > 5) {\r\n      alert('Please fill all fields and enter a rating between 1 and 5.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await createReview({\r\n        name: review.name,\r\n        rating: ratingValue,\r\n        comment: review.comment,\r\n      });\r\n      alert('✅ Review submitted!');\r\n      setReview({ name: '', rating: '', comment: '' });\r\n    } catch (error) {\r\n      console.error('Review submission failed:', error);\r\n      const msg = error.response?.data?.error || 'Failed to submit review';\r\n      alert(`❌ ${msg}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ maxWidth: 500, margin: 'auto' }}>\r\n      <h2>Submit a Review</h2>\r\n\r\n      <label>\r\n        Name:\r\n        <input\r\n          type=\"text\"\r\n          value={review.name}\r\n          onChange={(e) => setReview({ ...review, name: e.target.value })}\r\n          required\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        Rating (1–5):\r\n        <input\r\n          type=\"number\"\r\n          value={review.rating}\r\n          onChange={(e) => setReview({ ...review, rating: e.target.value })}\r\n          min={1}\r\n          max={5}\r\n          required\r\n        />\r\n      </label>\r\n\r\n      <label>\r\n        Comment:\r\n        <textarea\r\n          value={review.comment}\r\n          onChange={(e) => setReview({ ...review, comment: e.target.value })}\r\n          required\r\n        />\r\n      </label>\r\n\r\n      <button type=\"submit\" disabled={loading}>\r\n        {loading ? 'Submitting...' : 'Submit Review'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ReviewForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}