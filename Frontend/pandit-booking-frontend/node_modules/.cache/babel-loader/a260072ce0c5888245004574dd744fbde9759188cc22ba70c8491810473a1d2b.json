{"ast":null,"code":"// src/pages/PoojaManagement.jsx\nimport React,{useEffect,useState}from'react';import{getPoojas,addPooja,updatePooja,deletePooja}from'../api/api';import'./PoojaManagement.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function PoojaManagement(){const[poojas,setPoojas]=useState([]);const[form,setForm]=useState({name:'',description:'',imageUrl:''});const[editId,setEditId]=useState(null);useEffect(()=>{fetchPoojas();},[]);async function fetchPoojas(){try{const res=await getPoojas();setPoojas(res.data);}catch(_){}}async function handleAdd(){await addPooja(form);setForm({name:'',description:'',imageUrl:''});fetchPoojas();}async function handleUpdate(){await updatePooja(editId,form);setEditId(null);setForm({name:'',description:'',imageUrl:''});fetchPoojas();}async function handleDelete(id){if(!window.confirm('Delete pooja?'))return;await deletePooja(id);fetchPoojas();}function startEdit(p){setEditId(p._id);setForm({name:p.name,description:p.description,imageUrl:p.imageUrl||''});}return/*#__PURE__*/_jsxs(\"div\",{className:\"pooja-mgmt-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pooja Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-pooja-form\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Pooja Name\",value:form.name,onChange:e=>setForm(f=>({...f,name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Description\",value:form.description,onChange:e=>setForm(f=>({...f,description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Image URL\",value:form.imageUrl,onChange:e=>setForm(f=>({...f,imageUrl:e.target.value}))}),editId?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditId(null);setForm({name:'',description:'',imageUrl:''});},children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,children:\"Add Pooja\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pooja-list\",children:poojas.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"pooja-card\",children:[/*#__PURE__*/_jsx(\"strong\",{children:p.name}),/*#__PURE__*/_jsx(\"div\",{children:p.description}),p.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:p.imageUrl,alt:p.name,style:{maxWidth:'150px',marginTop:'0.6rem',borderRadius:'8px'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(p),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(p._id),children:\"Delete\"})]})]},p._id))})]});}export default PoojaManagement;","map":{"version":3,"names":["React","useEffect","useState","getPoojas","addPooja","updatePooja","deletePooja","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PoojaManagement","poojas","setPoojas","form","setForm","name","description","imageUrl","editId","setEditId","fetchPoojas","res","data","_","handleAdd","handleUpdate","handleDelete","id","window","confirm","startEdit","p","_id","className","children","placeholder","value","onChange","e","f","target","onClick","map","src","alt","style","maxWidth","marginTop","borderRadius"],"sources":["C:/Users/sv106/OneDrive/Desktop/Shubhkarya/Frontend/pandit-booking-frontend/src/pages/PoojaManagement.jsx"],"sourcesContent":["// src/pages/PoojaManagement.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getPoojas, addPooja, updatePooja, deletePooja } from '../api/api';\r\nimport './PoojaManagement.css';\r\n\r\nfunction PoojaManagement() {\r\n  const [poojas, setPoojas] = useState([]);\r\n  const [form, setForm] = useState({ name: '', description: '', imageUrl: '' });\r\n  const [editId, setEditId] = useState(null);\r\n\r\n  useEffect(() => { fetchPoojas(); }, []);\r\n  async function fetchPoojas() {\r\n    try {\r\n      const res = await getPoojas();\r\n      setPoojas(res.data);\r\n    } catch (_) {}\r\n  }\r\n  async function handleAdd() {\r\n    await addPooja(form);\r\n    setForm({ name: '', description: '', imageUrl: '' });\r\n    fetchPoojas();\r\n  }\r\n  async function handleUpdate() {\r\n    await updatePooja(editId, form);\r\n    setEditId(null);\r\n    setForm({ name: '', description: '', imageUrl: '' });\r\n    fetchPoojas();\r\n  }\r\n  async function handleDelete(id) {\r\n    if (!window.confirm('Delete pooja?')) return;\r\n    await deletePooja(id);\r\n    fetchPoojas();\r\n  }\r\n  function startEdit(p) {\r\n    setEditId(p._id);\r\n    setForm({ name: p.name, description: p.description, imageUrl: p.imageUrl || '' });\r\n  }\r\n\r\n  return (\r\n    <div className=\"pooja-mgmt-page\">\r\n      <h2>Pooja Management</h2>\r\n      <div className=\"add-pooja-form\">\r\n        <input\r\n          placeholder=\"Pooja Name\"\r\n          value={form.name}\r\n          onChange={e => setForm(f => ({ ...f, name: e.target.value }))}\r\n        />\r\n        <input\r\n          placeholder=\"Description\"\r\n          value={form.description}\r\n          onChange={e => setForm(f => ({ ...f, description: e.target.value }))}\r\n        />\r\n        <input\r\n          placeholder=\"Image URL\"\r\n          value={form.imageUrl}\r\n          onChange={e => setForm(f => ({ ...f, imageUrl: e.target.value }))}\r\n        />\r\n        {editId ? (\r\n          <>\r\n            <button onClick={handleUpdate}>Update</button>\r\n            <button onClick={() => { setEditId(null); setForm({ name: '', description: '', imageUrl: '' }); }}>Cancel</button>\r\n          </>\r\n        ) : (\r\n          <button onClick={handleAdd}>Add Pooja</button>\r\n        )}\r\n      </div>\r\n      <div className=\"pooja-list\">\r\n        {poojas.map(p => (\r\n          <div className=\"pooja-card\" key={p._id}>\r\n            <strong>{p.name}</strong>\r\n            <div>{p.description}</div>\r\n            {p.imageUrl && (\r\n              <img\r\n                src={p.imageUrl}\r\n                alt={p.name}\r\n                style={{ maxWidth: '150px', marginTop: '0.6rem', borderRadius: '8px' }}\r\n              />\r\n            )}\r\n            <div>\r\n              <button onClick={() => startEdit(p)}>Edit</button>\r\n              <button onClick={() => handleDelete(p._id)}>Delete</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PoojaManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}